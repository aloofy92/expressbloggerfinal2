{"ast":null,"code":"var _jsxFileName = \"/Users/briannahickerson/Desktop/Code-Immersives-Workspace/200-workspace-fall-22/203/expressblogger-frontend/src/Components/BlogPost.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst urlEndpoint = 'http://localhost:3000/blogs';\nexport default function BlogPost() {\n  _s();\n  const [blog, setBlog] = useState({\n    _id: '',\n    createdAt: '',\n    title: '',\n    text: '',\n    author: '',\n    lastModified: '',\n    categories: []\n  });\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [editMode, setEditMode] = useState(false);\n  useEffect(() => {\n    axios.get(`${urlEndpoint}/get-one/${id}`).then(response => {\n      setBlog(response.data.post);\n    });\n  }, [id]);\n  const handleSubmit = async event => {\n    event.preventDefault();\n    const formData = new FormData(event.target);\n    const updatedBlog = {\n      title: formData.get('title'),\n      text: formData.get('text'),\n      author: formData.get('author'),\n      categories: [] // TODO: Parse categories from input field\n    };\n\n    await axios.put(`${urlEndpoint}/update-one/${id}`, updatedBlog);\n\n    // Redirect back to blog post page\n    navigate(`/blogs/${id}`);\n  };\n  const handleDelete = async () => {\n    await axios.delete(`${urlEndpoint}/delete-one/${id}`);\n    navigate('/blogs');\n  };\n  if (!blog) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"blog-post\",\n    children: editMode ? /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"edit-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"title\",\n        children: \"Title:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"title\",\n        name: \"title\",\n        defaultValue: blog.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"text\",\n        children: \"Text:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        id: \"text\",\n        name: \"text\",\n        defaultValue: blog.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"author\",\n        children: \"Author:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"author\",\n        name: \"author\",\n        defaultValue: blog.author\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: blog.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"author: \", blog.author]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: blog.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setEditMode(true),\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDelete,\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(BlogPost, \"umjvj8smT617qNYHicSSOg9g+n4=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = BlogPost;\nvar _c;\n$RefreshReg$(_c, \"BlogPost\");","map":{"version":3,"names":["useState","useEffect","axios","useParams","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","urlEndpoint","BlogPost","_s","blog","setBlog","_id","createdAt","title","text","author","lastModified","categories","id","navigate","editMode","setEditMode","get","then","response","data","post","handleSubmit","event","preventDefault","formData","FormData","target","updatedBlog","put","handleDelete","delete","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","htmlFor","type","name","defaultValue","onClick","_c","$RefreshReg$"],"sources":["/Users/briannahickerson/Desktop/Code-Immersives-Workspace/200-workspace-fall-22/203/expressblogger-frontend/src/Components/BlogPost.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useParams, useNavigate } from 'react-router-dom';\n\nconst urlEndpoint = 'http://localhost:3000/blogs';\n\nexport default function BlogPost() {\n  const [blog, setBlog] = useState({\n    _id: '',\n    createdAt: '',\n    title: '',\n    text: '',\n    author: '',\n    lastModified: '',\n    categories: [],\n  });\n  const { id } = useParams();\n  const navigate = useNavigate();\n  \n  const [editMode, setEditMode] = useState(false);\n  \n  useEffect(() => {\n    axios.get(`${urlEndpoint}/get-one/${id}`).then((response) => {\n      setBlog(response.data.post);\n    });\n  }, [id]);\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    \n    const formData = new FormData(event.target);\n    \n    const updatedBlog = {\n      title: formData.get('title'),\n      text: formData.get('text'),\n      author: formData.get('author'),\n      categories: [], // TODO: Parse categories from input field\n    };\n    \n    await axios.put(`${urlEndpoint}/update-one/${id}`, updatedBlog);\n    \n    // Redirect back to blog post page\n    navigate(`/blogs/${id}`);\n  };\n\n  const handleDelete = async () => {\n    await axios.delete(`${urlEndpoint}/delete-one/${id}`);\n    navigate('/blogs');\n  };\n\n  if (!blog) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <div className='blog-post'>\n      {editMode ? (\n        <form onSubmit={handleSubmit} className=\"edit-form\">\n          <label htmlFor='title'>Title:</label>\n          <input type='text' id='title' name='title' defaultValue={blog.title} />\n          <label htmlFor='text'>Text:</label>\n          <textarea id='text' name='text' defaultValue={blog.text}></textarea>\n          <label htmlFor='author'>Author:</label>\n          <input type='text' id='author' name='author' defaultValue={blog.author} />\n          {/* Categories input goes here */}\n          <button type='submit'>Save</button>\n        </form>\n      ) : (\n        <>\n          <h1>{blog.title}</h1>\n          <h2>author: {blog.author}</h2>\n          <p>{blog.text}</p>\n          <button onClick={() => setEditMode(true)}>Edit</button>\n          <button onClick={handleDelete}>Delete</button>\n        </>\n      )}\n      \n      {/* TODO: Add category tags */}\n      \n      {/* TODO: Add comments section */}\n      \n      {/* TODO: Add related posts section */}\n      \n      {/* TODO: Add social media sharing buttons */}\n      \n      {/* TODO: Add search bar */}\n      \n      {/* TODO: Add pagination */}\n      \n      {/* TODO: Add sorting/filtering options */}\n      \n      {/* TODO: Add breadcrumbs/navigation links */}\n      \n      {/* TODO: Improve styling/layout */}\n      \n    </div>\n  );\n}"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAAEC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE1D,MAAMC,WAAW,GAAG,6BAA6B;AAEjD,eAAe,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EACjC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGb,QAAQ,CAAC;IAC/Bc,GAAG,EAAE,EAAE;IACPC,SAAS,EAAE,EAAE;IACbC,KAAK,EAAE,EAAE;IACTC,IAAI,EAAE,EAAE;IACRC,MAAM,EAAE,EAAE;IACVC,YAAY,EAAE,EAAE;IAChBC,UAAU,EAAE;EACd,CAAC,CAAC;EACF,MAAM;IAAEC;EAAG,CAAC,GAAGlB,SAAS,EAAE;EAC1B,MAAMmB,QAAQ,GAAGlB,WAAW,EAAE;EAE9B,MAAM,CAACmB,QAAQ,EAAEC,WAAW,CAAC,GAAGxB,QAAQ,CAAC,KAAK,CAAC;EAE/CC,SAAS,CAAC,MAAM;IACdC,KAAK,CAACuB,GAAG,CAAE,GAAEhB,WAAY,YAAWY,EAAG,EAAC,CAAC,CAACK,IAAI,CAAEC,QAAQ,IAAK;MAC3Dd,OAAO,CAACc,QAAQ,CAACC,IAAI,CAACC,IAAI,CAAC;IAC7B,CAAC,CAAC;EACJ,CAAC,EAAE,CAACR,EAAE,CAAC,CAAC;EAER,MAAMS,YAAY,GAAG,MAAOC,KAAK,IAAK;IACpCA,KAAK,CAACC,cAAc,EAAE;IAEtB,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAACH,KAAK,CAACI,MAAM,CAAC;IAE3C,MAAMC,WAAW,GAAG;MAClBpB,KAAK,EAAEiB,QAAQ,CAACR,GAAG,CAAC,OAAO,CAAC;MAC5BR,IAAI,EAAEgB,QAAQ,CAACR,GAAG,CAAC,MAAM,CAAC;MAC1BP,MAAM,EAAEe,QAAQ,CAACR,GAAG,CAAC,QAAQ,CAAC;MAC9BL,UAAU,EAAE,EAAE,CAAE;IAClB,CAAC;;IAED,MAAMlB,KAAK,CAACmC,GAAG,CAAE,GAAE5B,WAAY,eAAcY,EAAG,EAAC,EAAEe,WAAW,CAAC;;IAE/D;IACAd,QAAQ,CAAE,UAASD,EAAG,EAAC,CAAC;EAC1B,CAAC;EAED,MAAMiB,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,MAAMpC,KAAK,CAACqC,MAAM,CAAE,GAAE9B,WAAY,eAAcY,EAAG,EAAC,CAAC;IACrDC,QAAQ,CAAC,QAAQ,CAAC;EACpB,CAAC;EAED,IAAI,CAACV,IAAI,EAAE;IACT,oBAAON,OAAA;MAAAkC,QAAA,EAAK;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAM;EAC9B;EAEA,oBACEtC,OAAA;IAAKuC,SAAS,EAAC,WAAW;IAAAL,QAAA,EACvBjB,QAAQ,gBACPjB,OAAA;MAAMwC,QAAQ,EAAEhB,YAAa;MAACe,SAAS,EAAC,WAAW;MAAAL,QAAA,gBACjDlC,OAAA;QAAOyC,OAAO,EAAC,OAAO;QAAAP,QAAA,EAAC;MAAM;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAQ,eACrCtC,OAAA;QAAO0C,IAAI,EAAC,MAAM;QAAC3B,EAAE,EAAC,OAAO;QAAC4B,IAAI,EAAC,OAAO;QAACC,YAAY,EAAEtC,IAAI,CAACI;MAAM;QAAAyB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAG,eACvEtC,OAAA;QAAOyC,OAAO,EAAC,MAAM;QAAAP,QAAA,EAAC;MAAK;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAQ,eACnCtC,OAAA;QAAUe,EAAE,EAAC,MAAM;QAAC4B,IAAI,EAAC,MAAM;QAACC,YAAY,EAAEtC,IAAI,CAACK;MAAK;QAAAwB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAY,eACpEtC,OAAA;QAAOyC,OAAO,EAAC,QAAQ;QAAAP,QAAA,EAAC;MAAO;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAQ,eACvCtC,OAAA;QAAO0C,IAAI,EAAC,MAAM;QAAC3B,EAAE,EAAC,QAAQ;QAAC4B,IAAI,EAAC,QAAQ;QAACC,YAAY,EAAEtC,IAAI,CAACM;MAAO;QAAAuB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAG,eAE1EtC,OAAA;QAAQ0C,IAAI,EAAC,QAAQ;QAAAR,QAAA,EAAC;MAAI;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAS;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAC9B,gBAEPtC,OAAA,CAAAE,SAAA;MAAAgC,QAAA,gBACElC,OAAA;QAAAkC,QAAA,EAAK5B,IAAI,CAACI;MAAK;QAAAyB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAM,eACrBtC,OAAA;QAAAkC,QAAA,GAAI,UAAQ,EAAC5B,IAAI,CAACM,MAAM;MAAA;QAAAuB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAM,eAC9BtC,OAAA;QAAAkC,QAAA,EAAI5B,IAAI,CAACK;MAAI;QAAAwB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAK,eAClBtC,OAAA;QAAQ6C,OAAO,EAAEA,CAAA,KAAM3B,WAAW,CAAC,IAAI,CAAE;QAAAgB,QAAA,EAAC;MAAI;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAS,eACvDtC,OAAA;QAAQ6C,OAAO,EAAEb,YAAa;QAAAE,QAAA,EAAC;MAAM;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAS;IAAA;EAEjD;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QAoBG;AAEV;AAACjC,EAAA,CA3FuBD,QAAQ;EAAA,QAUfP,SAAS,EACPC,WAAW;AAAA;AAAAgD,EAAA,GAXN1C,QAAQ;AAAA,IAAA0C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}